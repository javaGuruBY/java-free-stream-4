import java.util.Scanner;

public class UserLoginService {
    public void tryLogin(User user) {
        Scanner login = new Scanner(System.in);
        String enteredLogin = login.nextLine();
        Scanner password = new Scanner(System.in);
        String enteredPassword = password.nextLine();
        if (!user.getBlocking()) {
            if (user.getLogin().equals(enteredLogin) && user.getPassword().equals(enteredPassword)) {
                System.out.println("You are logged in!");
                user.setLoginAttemptsToZero();
            } else {
                System.out.println("Log in passed.");
                user.addLoginAttempts();
                failedLogin(user);
            }
        } else System.out.println("Your account is blocked.");
    }

    public void failedLogin(User user){
        if(!user.getBlocking()) {
            user.addLoginAttempts();
            tryLogin(user);
        } else System.out.println("Your account is blocked.");
    }

}
